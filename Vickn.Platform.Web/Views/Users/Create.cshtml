@using Abp.Web.Mvc.Extensions
@model Vickn.Platform.Users.Dtos.GetUserForEditOutput

@{
    ViewBag.Title = "Create";
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()


    @Html.ValidationSummary(true, "", new { @class = "Huialert Huialert-danger summary-validation-error" })

    <div class="form form-horizontal">
        <!--隐藏字段-->
        <div class="hidden">
            @Html.HiddenFor(model => model.User.IsActive)
            @Html.HiddenFor(model=>model.User.Id)
        </div>
        <div class="row cl">
            @Html.LabelFor(model => model.User.Name, htmlAttributes: new {@class = "form-label col-xs-4 col-sm-3"})
            <div class="formControls col-xs-8 col-sm-8">
                @Html.EditorFor(model => model.User.Name, new {htmlAttributes = new {@class = "input-text"}})
                @Html.ValidationMessageFor(model => model.User.Name, "", new {@class = "text-danger"})
            </div>
        </div>

        <div class="row cl">
            @Html.LabelFor(model => model.User.UserName, htmlAttributes: new {@class = "form-label col-xs-4 col-sm-3"})
            <div class="formControls col-xs-8 col-sm-8">
                @Html.EditorFor(model => model.User.UserName, new {htmlAttributes = new {@class = "input-text"}})
                @Html.ValidationMessageFor(model => model.User.UserName, "", new {@class = "text-danger"})
            </div>
        </div>

        <div class="row cl">
            @Html.LabelFor(model => model.User.Surname, htmlAttributes: new {@class = "form-label col-xs-4 col-sm-3"})
            <div class="formControls col-xs-8 col-sm-8">
                @Html.EditorFor(model => model.User.Surname, new {htmlAttributes = new {@class = "input-text"}})
                @Html.ValidationMessageFor(model => model.User.Surname, "", new {@class = "text-danger"})
            </div>
        </div>

        <div class="row cl">
            @Html.LabelFor(model => model.User.PhoneNumber, htmlAttributes: new {@class = "form-label col-xs-4 col-sm-3"})
            <div class="formControls col-xs-8 col-sm-8">
                @Html.EditorFor(model => model.User.PhoneNumber, new {htmlAttributes = new {@class = "input-text"}})
                @Html.ValidationMessageFor(model => model.User.PhoneNumber, "", new {@class = "text-danger"})
            </div>
        </div>

        <div class="row cl">
            @Html.LabelFor(model => model.User.EmailAddress, htmlAttributes: new {@class = "form-label col-xs-4 col-sm-3"})
            <div class="formControls col-xs-8 col-sm-8">
                @Html.EditorFor(model => model.User.EmailAddress, new {htmlAttributes = new {@class = "input-text"}})
                @Html.ValidationMessageFor(model => model.User.EmailAddress, "", new {@class = "text-danger"})
            </div>
        </div>

        <!--角色-->
        <div class="row cl">
            @Html.LabelFor(model => model.UserRoleDtos, htmlAttributes: new {@class = "form-label col-xs-4 col-sm-3"})
            <div class="formControls col-xs-8 col-sm-8  skin-minimal">
                <dl>
                    <dd>
                        @for (int i = 0; i < Model.UserRoleDtos.Length; i++)
                        {
                            <div class="check-box">
                                @Html.CheckBoxFor(model => model.UserRoleDtos[i].IsAssigned, new {id = "checkbox_" + Model.UserRoleDtos[i].RoleId})
                                <label for="checkbox_@(Model.UserRoleDtos[i].RoleId)">@Model.UserRoleDtos[i].RoleDisplayName</label>
                                @Html.HiddenFor(model => model.UserRoleDtos[i].RoleId)
                                @Html.HiddenFor(model => model.UserRoleDtos[i].RoleDisplayName)
                                @Html.HiddenFor(model => model.UserRoleDtos[i].RoleName)
                            </div>
                        }
                    </dd>
                </dl>
                @Html.ValidationMessageFor(model => model.UserRoleDtos, "", new {@class = "text-danger"})
            </div>
        </div>

        @Html.Partial("/Views/Common/_FooterWithSaveAndCancel.cshtml")
    </div>

}
@section scripts{
    @Html.IncludeScript("~/Views/Users/Create.js")
}




